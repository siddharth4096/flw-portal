<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vet Portal - Professional Veterinary Management</title>
    <link rel="stylesheet" href="teststyle.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>

    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#2563eb">



</head>
<body>

    <script>
  // ðŸš¨ Block access if not logged in
  if (!sessionStorage.getItem("isVetLoggedIn")) {
    window.location.href = "../index.html"; // redirect to welcome page
  }
</script>
    <!-- Top Navbar -->
    <nav class="navbar">
        <div class="nav-left">
            <button class="hamburger" id="hamburger">
                <i class="fas fa-bars"></i>
            </button>
            <div class="logo">
                <i class="fas fa-paw"></i>
                <span>Vet Portal</span>
            </div>
        </div>
        <div class="nav-right">
            <button class="nav-btn notification-btn">
                <i class="fas fa-bell"></i>
                <span class="notification-badge">3</span>
            </button>

        <!-- Notification Dropdown -->
        <div class="notification-dropdown" id="notificationDropdown">
        <ul>
            <li>ðŸš‘ New Emergency: Injured buffalo (5.7 km away)</li>
            <li>ðŸ’‰ 3 animals due for FMD vaccination today</li>
            <li>ðŸ¤– AI flagged skin lesion in Gir cow (82%)</li>
            <li>ðŸ“‚ Case #002 follow-up visit scheduled</li>
        </ul>
        </div>


            <button class="nav-btn emergency-btn">
                <i class="fas fa-ambulance"></i>
                <span>Emergency</span>
            </button>
            <div class="profile-dropdown" id="profileDropdown">
                <button class="profile-btn" id="profileBtn">
                    <i class="fas fa-user-circle"></i>
                    <i class="fas fa-chevron-down"></i>
                </button>
                <div class="dropdown-menu" id="dropdownMenu">
                    <a href="#" class="dropdown-item">
                        <i class="fas fa-user"></i> View Profile
                    </a>
                    <a href="#" class="dropdown-item">
                        <i class="fas fa-cog"></i> Settings
                    </a>
                    <a href="#" class="dropdown-item" id="logoutBtn">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <nav class="sidebar-nav">
            <a href="#" class="nav-item active" data-section="dashboard">
                <i class="fas fa-home"></i>
                <span>Dashboard</span>
            </a>
            <a href="#" class="nav-item" data-section="cases">
                <i class="fas fa-folder"></i>
                <span>Cases</span>
            </a>
            <a href="#" class="nav-item" data-section="ai-insights">
                <i class="fas fa-robot"></i>
                <span>AI Insights</span>
            </a>
            <a href="#" class="nav-item" data-section="analytics">
                <i class="fas fa-chart-bar"></i>
                <span>Analytics</span>
            </a>
            <a href="#" class="nav-item" data-section="emergency">
                <i class="fas fa-ambulance"></i>
                <span>Emergency</span>
            </a>
            <a href="#" class="nav-item" data-section="impact">
                <i class="fas fa-medal"></i>
                <span>Impact</span>
            </a>
        </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content" id="mainContent">
        <!-- Dashboard Section -->
        <section class="section active" id="dashboard">
            <div class="section-header">
                <h1>ðŸ©º Vet Overview</h1>
                <p><span class="doctor-name">Welcome back, Dr. V. Krishnamurthy!</span></p>
            </div>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-paw"></i>
                    </div>
                    <div class="stat-content">
                        <h3>28</h3>
                        <p>Animals Treated Today</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-syringe"></i>
                    </div>
                    <div class="stat-content">
                        <h3>15</h3>
                        <p>Vaccinations Issued</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <div class="stat-content">
                        <h3>3</h3>
                        <p>Emergency Cases Pending</p>
                    </div>
                </div>
                <div class="stat-card clickable" data-section="analytics">
                    <div class="stat-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="stat-content">
                        <h3>â†‘12%</h3>
                        <p>Disease Trend</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Cases Section -->
        <section class="section" id="cases">
            <div class="section-header">
                <h1>Cases Management</h1>
                <p>Manage animal cases and treatment records</p>
            </div>
            <div class="search-container">
                <input type="text" class="search-input" placeholder="Search by Animal ID or Owner name...">
                <button class="search-btn">
                    <i class="fas fa-search"></i>
                </button>
            </div>
            <div class="cases-container">
                <div class="cases-list">
                    <div class="case-item active">
                        <div class="case-header">
                            <h4>Case #001</h4>
                            <span class="case-status urgent">Urgent</span>
                        </div>
                        <p><strong>Animal:</strong> Cow - Bella</p>
                        <p><strong>Owner:</strong> John Farmer</p>
                        <p><strong>Issue:</strong> Respiratory infection</p>
                    </div>
                    <div class="case-item">
                        <div class="case-header">
                            <h4>Case #002</h4>
                            <span class="case-status routine">Routine</span>
                        </div>
                        <p><strong>Animal:</strong> Murrah Buffalo</p>
                        <p><strong>Owner:</strong> Mary Smith</p>
                        <p><strong>Issue:</strong> Vaccination checkup</p>
                    </div>
                </div>
                <div class="case-details">
                    <div class="animal-profile">
                        <h3>Animal Profile</h3>
                        <div class="profile-info">
                            <p><strong>Name:</strong> Bella</p>
                            <p><strong>Species:</strong> Cow</p>
                            <p><strong>Age:</strong> 3 years</p>
                            <p><strong>Owner:</strong> John Farmer</p>
                            <p><strong>Last Visit:</strong> March 10, 2024</p>
                        </div>
                    </div>
                    <div class="treatment-history">
                        <h3>Treatment History</h3>
                        <div class="history-item">
                            <div class="history-date">March 10, 2024</div>
                            <div class="history-content">
                                <p><strong>Diagnosis:</strong> Respiratory infection</p>
                                <p><strong>Treatment:</strong> Antibiotics prescribed</p>
                            </div>
                        </div>
                    </div>
                    <div class="case-actions">
                        <button class="btn btn-primary" id="createPrescription">
                            <i class="fas fa-prescription"></i>
                            Create Prescription
                        </button>
                        <button class="btn btn-secondary">
                            <i class="fas fa-calendar"></i>
                            Assign Visit
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- AI Insights Section -->
        <section class="section" id="ai-insights">
            <div class="section-header">
                <h1>AI Insights</h1>
                <p>AI-powered health analysis and knowledge hub</p>
            </div>
            <div class="ai-container">
                <div class="ai-analysis">
                    <h3>Health Anomaly Pre-Check</h3>
                    <div class="analysis-demo">
                        <div class="image-analysis">
                            <div class="animal-image">
                            <div class="gradcam-overlay">
                                <div id="hotspot" class="hotspot"></div>
                            </div>
                            <img id="anomalyImage" src="assests/skin2.jpg" alt="Cattle with skin disease" class="ai-anomaly-img">
                            </div>


                            <div class="analysis-results">
                                <div class="warning-alert">
                                    <i class="fas fa-exclamation-triangle"></i>
                                    <p><strong>Possible skin lesion detected</strong></p>
                                    <p>Confidence: 78%</p>
                                    <p>Recommendation: Manual inspection required</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="knowledge-hub">
                    <h3>Knowledge Hub</h3>
                    <div class="chat-demo">
                        <div class="chat-messages" id="chatMessages">
                            <div class="message bot">
                                <i class="fas fa-robot"></i>
                                <p>Hello! Ask me any veterinary question.</p>
                            </div>
                        </div>
                        <div class="chat-input-container">
                            <input type="text" id="chatInput" placeholder="Ask about symptoms, treatments, diseases..." class="chat-input">
                            <button id="sendChat" class="chat-send">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Analytics Section -->
        <section class="section" id="analytics">
            <div class="section-header">
                <h1>Analytics</h1>
                <p>Data insights and trends analysis</p>
            </div>
            <div class="charts-container">
                <div class="chart-card">
                    <h3>Breed-wise Cases</h3>
                    <canvas id="breedChart"></canvas>
                </div>
                <div class="chart-card">
                    <h3>Vaccination Coverage</h3>
                    <canvas id="vaccinationChart"></canvas>
                </div>
                <div class="chart-card full-width">
                    <h3>Disease Trends (Last 6 Months)</h3>
                    <canvas id="trendChart"></canvas>
                </div>
            </div>
        </section>

        <!-- Emergency Section -->
        <section class="section" id="emergency">
            <div class="section-header">
                <h1>Emergency Cases</h1>
                <p>Urgent cases requiring immediate attention</p>
            </div>
            <div class="emergency-list">
                <div class="emergency-card">
                    <div class="emergency-header">
                        <h4>Case #E001</h4>
                        <span class="priority high">High Priority</span>
                    </div>
                    <div class="emergency-info">
                        <p><strong>Issue:</strong> Cattle poisoning suspected</p>
                        <p><strong>Location:</strong> Shivam Dairy Farm, Uttar Pradesh</p>
                        <p><strong>Distance:</strong> 2.3 km</p>
                        <p><strong>Contact:</strong> +91 9724758960</p>
                    </div>
                    <div class="emergency-actions">
                        <button class="btn btn-primary">
                            <i class="fas fa-car"></i>
                            Assign Visit
                        </button>
                        <button class="btn btn-secondary">
                            <i class="fas fa-video"></i>
                            Tele-consult
                        </button>
                    </div>
                </div>
                <div class="emergency-card">
                    <div class="emergency-header">
                        <h4>Case #E002</h4>
                        <span class="priority medium">Medium Priority</span>
                    </div>
                    <div class="emergency-info">
                        <p><strong>Issue:</strong> Injured buffalo, bleeding</p>
                        <p><strong>Location:</strong> Kamdhenu Dairy, Punjab</p>
                        <p><strong>Distance:</strong> 5.7 km</p>
                        <p><strong>Contact:</strong> +91 7410258960</p>
                    </div>
                    <div class="emergency-actions">
                        <button class="btn btn-primary">
                            <i class="fas fa-car"></i>
                            Assign Visit
                        </button>
                        <button class="btn btn-secondary">
                            <i class="fas fa-video"></i>
                            Tele-consult
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Impact Section -->
        <section class="section" id="impact">
            <div class="section-header">
                <h1>Impact & Achievements</h1>
                <p>Your contribution to animal health and community welfare</p>
            </div>
            <div class="impact-stats">
                <div class="impact-card">
                    <div class="impact-icon">
                        <i class="fas fa-paw"></i>
                    </div>
                    <div class="impact-content">
                        <h3>1,247</h3>
                        <p>Animals Treated</p>
                    </div>
                </div>
                <div class="impact-card">
                    <div class="impact-icon">
                        <i class="fas fa-syringe"></i>
                    </div>
                    <div class="impact-content">
                        <h3>892</h3>
                        <p>Vaccinations Approved</p>
                    </div>
                </div>
                <div class="impact-card">
                    <div class="impact-icon">
                        <i class="fas fa-award"></i>
                    </div>
                    <div class="impact-content">
                        <h3>12</h3>
                        <p>Badges Earned</p>
                    </div>
                </div>
            </div>
            <div class="badges-section">
                <h3>Earned Badges</h3>
                <div class="badges-grid">
                    <div class="badge">
                        <i class="fas fa-shield-alt"></i>
                        <h4>Disease Preventer</h4>
                        <p>Prevented 50+ disease outbreaks</p>
                    </div>
                    <div class="badge">
                        <i class="fas fa-star"></i>
                        <h4>Community Saver</h4>
                        <p>Served 100+ rural communities</p>
                    </div>
                    <div class="badge">
                        <i class="fas fa-microscope"></i>
                        <h4>Evidence Driven</h4>
                        <p>Used AI insights in 200+ cases</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Floating Chatbot Widget -->
    <div class="chatbot-widget">
        <button class="chatbot-toggle" id="chatbotToggle">
            <i class="fas fa-comment"></i>
        </button>
        <div class="chatbot-panel" id="chatbotPanel">
            <div class="chatbot-header">
                <h4>Knowledge Hub</h4>
                <button class="chatbot-close" id="chatbotClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="chatbot-messages" id="chatbotMessages">
                <div class="message bot">
                    <i class="fas fa-robot"></i>
                    <p>Hello! I'm your veterinary knowledge assistant. Ask me anything!</p>
                </div>
            </div>
            <div class="chatbot-input-container">
                <input type="text" id="chatbotInput" placeholder="Type your question..." class="chatbot-input">
                <button id="sendChatbot" class="chatbot-send">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- QR Code Modal -->
    <div class="modal" id="qrModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Prescription QR Code</h3>
                <button class="modal-close" id="closeQrModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="qr-code" id="qrCode">
                     <img src="assests/qrcode.jpg" alt="Prescription QR Code" id="qrImage">
                </div>
                <p>Scan this QR code to access the prescription details</p>
                <div class="prescription-details">
                    <p><strong>Prescription ID:</strong> RX-001-2024</p>
                    <p><strong>Animal:</strong> Bella (Cow)</p>
                    <p><strong>Medicine:</strong> Amoxicillin 500mg</p>
                </div>
                <div class="farmer-message">
                <h4>ðŸ“© Message for Farmer</h4>
                <textarea id="farmerMessageInput" placeholder="Type message for farmer..." rows="3" style="width:100%; padding:8px; border:1px solid #ccc; border-radius:6px;"></textarea>
                <button id="sendFarmerMessage" class="btn btn-success" style="margin-top:10px;">Send Message</button>
                </div>
                
            </div>
        </div>
    </div>

    <script src="testscript.js"></script>
</body>
</html>